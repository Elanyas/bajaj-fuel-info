<!DOCTYPE html>
<html lang="am">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>የሻጭ ማዕከል | የድራይቨር ገበያ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Ethiopic:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="marketplace_style.css">
</head>
<body>
    
    <header class="main-header">
        <h1><i class="fas fa-store"></i> የሻጭ ማዕከል</h1>
        
        <div class="header-coin-display-v2">
            <div class="user-info-panel">
                <p class="user-name-text" id="userNameDisplay">...</p>
                <p class="user-phone-text" id="userPhoneDisplay">...</p>
            </div>

            <div class="separator-line"></div>
            
            <div class="coin-display-panel">
                <img src="images/ela7.png" alt="BS" class="coin-icon">
                <div class="coin-balance-area">
                    <p class="balance-label-v2">BS Coin</p>
                    <div class="balance-display-v2">
                        <p class="balance-amount-v2" id="coinBalanceDisplay">0</p>
                        <p class="balance-unit-v2">BS</p>
                    </div>
                </div>
                <a href="https://t.me/elan_payment_bot" target="_blank" class="coin-add-btn"><i class="fas fa-plus"></i></a>
            </div>
        </div>
    </header>

    <div class="dashboard-container">
        <main class="dashboard-main-content">
            
            <div class="main-nav-buttons-v2">
                <button class="nav-btn-v2 primary-btn-v2" id="postNewListingBtn">
                    <i class="fas fa-plus-circle"></i> አዲስ ማስታወቂያ ይለጥፉ
                </button>
                <button class="nav-btn-v2 active" id="viewActiveListingsBtn">
                    <i class="fas fa-list-check"></i> ንቁ ማስታወቂያዎች
                </button>
                <button class="nav-btn-v2" id="viewExpiredListingsBtn">
                    <i class="fas fa-history"></i> ያበቁ ማስታወቂያዎች
                </button>
            </div>

            <section class="dashboard-section" id="newListingSection">
                <h2><i class="fas fa-bullhorn"></i> አዲስ ማስታወቂያ መለጠፍ</h2>
                
                <form id="newListingForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="itemTitle">የእቃው ርዕስ (ለምሳሌ: አዲስ የፑልሳር ሞተር)</label>
                            <input type="text" id="itemTitle" required>
                        </div>
                        <div class="form-group">
                            <label for="itemPrice">ዋጋ በብር (ETB)</label>
                            <input type="number" id="itemPrice" min="1" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="mainCategory">ዋና ምድብ</label>
                            <select id="mainCategory" required>
                                <option value="">ምድብ ይምረጡ</option>
                                <option value="vehicle">ተሽከርካሪ</option>
                                <option value="spare_part">መለዋወጫ</option>
                                <option value="phone">ስልክ</option>
                                <option value="other">ሌላ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="subCategory">ንዑስ ምድብ</label>
                            <select id="subCategory" required disabled>
                                <option value="">መጀመሪያ ዋና ምድብ ይምረጡ</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label>ማስታወቂያዎ ኮከብ እንዲኖረው ይፈልጋሉ? (ዋጋ ይጨምራል)</label>
                            <div class="star-rating-selector" id="starRatingSelector">
                                <i class="fas fa-star star" data-rating="1"></i>
                                <i class="fas fa-star star" data-rating="2"></i>
                                <i class="fas fa-star star" data-rating="3"></i>
                            </div>
                            <input type="hidden" id="starRating" value="0">
                        </div>
                        
                        <div class="form-group">
                            <label for="daysDuration">ለስንት ቀን ይለጠፍ? (የኮይን መጠን ይወስናል)</label>
                            <select id="daysDuration" required>
                                <option value="7">7 ቀናት</option>
                                <option value="14">14 ቀናት</option>
                                <option value="30">30 ቀናት</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group" style="flex: 1 1 100%;">
                             <div class="listing-fee-info">
                                ለመለጠፍ የሚያስፈልገው ጠቅላላ ኮይን: <span id="coinCostDisplay">5</span> BS Coins
                            </div>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group" style="flex: 1 1 100%;">
                            <label for="itemDescription">የእቃው ዝርዝር መግለጫ (ሁኔታ፣ አካባቢ፣ ሞዴል)</label>
                            <textarea id="itemDescription" required></textarea>
                        </div>
                    </div>
                    
                    <div class="form-row" style="align-items: center;">
                        <div class="form-group" style="flex: 1;">
                            <label for="itemImage">የእቃውን ምስል ይምረጡ</label>
                            <input type="file" id="itemImage" accept="image/*" required>
                        </div>
                        <div class="form-group" style="flex: 0 0 150px;">
                            <div class="image-preview-container">
                                <img id="imagePreview" alt="ምስል ቅድመ እይታ">
                                <span class="image-placeholder" id="imagePlaceholder">ምስል የለም</span>
                            </div>
                        </div>
                    </div>
                    
                    <button type="submit" class="action-button submit-btn"><i class="fas fa-upload"></i> ማስታወቂያውን ይለጥፉ</button>
                    <p id="listingMessage" class="error-message" style="margin-top: 10px;"></p>
                </form>
            </section>

            <section class="dashboard-section active" id="activeListingsSection">
                <h2><i class="fas fa-boxes"></i> ንቁ ማስታወቂያዎቼ</h2>
                <div class="listings-grid" id="activeListingsGrid">
                    <p id="noActiveListings">ገና ምንም ንቁ ማስታወቂያ አልለጠፉም።</p>
                </div>
            </section>

            <section class="dashboard-section" id="expiredListingsSection" style="display: none;">
                <h2><i class="fas fa-archive"></i> ያበቁ ማስታወቂያዎቼ</h2>
                <div class="listings-grid" id="expiredListingsGrid">
                    <p>ያበቁ ማስታወቂያዎች እዚህ ይታያሉ።</p>
                </div>
            </section>
        </main>
    </div>

    <script type="module" src="seller.js"></script>
    
</body>
</html>