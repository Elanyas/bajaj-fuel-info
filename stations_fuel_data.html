<!DOCTYPE html>
<html lang="am">
<head>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-GW2Y1BE243"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-GW2Y1BE243');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>á‹¨á‹µáˆ«á‹­á‰¨áˆ­ áŠá‹³áŒ… áˆ˜áˆ¨áŒƒ - á‹¨áˆ›á‹°á‹«á‹á‰½ áˆ˜áˆ¨áŒƒ</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Noto+Sans+Ethiopic:wght@400;700&display=swap" rel="stylesheet">
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const isLoggedIn = localStorage.getItem('isLoggedIn') === 'true';
        const loggedInUserName = localStorage.getItem('loggedInUserName');
        const loggedInUserPhone = localStorage.getItem('loggedInUserPhone');
        const loggedInUserPassword = localStorage.getItem('loggedInUserPassword');
        const loggedInUserLastPaymentDate = localStorage.getItem('loggedInUserLastPaymentDate');

        if (!isLoggedIn || !loggedInUserName || !loggedInUserPhone || !loggedInUserPassword || !loggedInUserLastPaymentDate) {
            alert("áˆˆáˆ˜áŒá‰£á‰µ áá‰ƒá‹µ á‹¨áˆˆá‹á‰µáˆá¢ áŠ¥á‰£áŠ­á‹ áŠ¥áŠ•á‹°áŒˆáŠ“ á‹­áŒá‰¡á¢");
            localStorage.clear();
            window.location.href = 'login.html';
            return;
        }
        
        // ------------------------------------------------------------------
        // **áˆˆá‹áŒ¥ 2**: á‹¨áŠ á‘áŠ• áˆµáˆáŠ­ á‰áŒ¥áˆ­ áˆ›áˆ¨áŒ‹áŒˆáŒ« áˆµáˆ­áŠ á‰µ áˆ˜áŒ¨áˆ˜áˆ­ (áŠ¨Query Parameter)
        // ------------------------------------------------------------------
        
        // 1. á‹¨ URL Query Parameter áˆ›áŠ•á‰ á‰¥ (áŠ¨áŠ á‘ á‹¨áˆ˜áŒ£á‹áŠ• á‰áŒ¥áˆ­)
        const urlParams = new URLSearchParams(window.location.search);
        const appPhoneNumber = urlParams.get('phone'); // ?phone=09XXXXXXXX

        if (appPhoneNumber) {
            // 2. á‰áŒ¥áˆ­ áŠ¨áŠ á‘ áŠ¨á‰°áˆ‹áŠ¨ (Case B áŠ¥áŠ“ C): áˆ›áˆ˜áˆ³áˆ°áˆ
            
            // á‹¨áˆáŠ«áˆ áˆµá‰¶áˆ¬áŒáŠ• á‰áŒ¥áˆ­ áŠ áŒ½á‹µá‰°áŠ• áˆ›áˆ˜áˆ³áˆ°áˆ (áˆáŠ“áˆá‰£á‰µ 09XXXXXXXX á‰¥á‰» áŠ¥áŠ•á‹²áˆ†áŠ•)
            const cleanedLocalPhone = loggedInUserPhone ? loggedInUserPhone.replace(/\s/g, '') : null;
            const cleanedAppPhone = appPhoneNumber.replace(/\s/g, '');

            if (cleanedLocalPhone !== cleanedAppPhone) {
                // Case C: á‰áŒ¥áˆ®á‰¹ áŠ«áˆá‰°áˆ˜áˆ³áˆ°áˆ‰
                alert("áŠ¥á‰£áŠ­á‹ á‰µáŠ­áŠ­áˆˆáŠ› á‰áŒ¥áˆ®áŠ• á‹­áŒ á‰€áˆ™! á‹­áˆ… áˆ˜áˆˆá‹« áŠ¨á‹šáˆ…áŠ›á‹ á‹¨áŠ á•áˆŠáŠ¬áˆ½áŠ• áˆµáˆáŠ­ á‰áŒ¥áˆ­ áŒ‹áˆ­ áŠ áˆá‰°áˆ˜áˆ³áˆ°áˆˆáˆá¢");
                localStorage.clear();
                window.location.href = 'login.html';
                return;
            }
            // Case B: á‰áŒ¥áˆ®á‰¹ áŠ¨á‰°áˆ˜áˆ³áˆ°áˆ‰ - áˆ›áˆµáˆáŒ¸áˆ á‹­á‰€áŒ¥áˆ‹áˆ (á‹ˆá‹° Subscription Check á‹­áˆ„á‹³áˆ)
        }
        // Case A: á‰áŒ¥áˆ­ áŠ«áˆá‰°áˆ‹áŠ¨ (á‰ á‰¥áˆ«á‹á‹˜áˆ­ áˆ²áŒˆá‰£) - áˆ›áˆµáˆáŒ¸áˆ á‹­á‰€áŒ¥áˆ‹áˆ (á‹ˆá‹° Subscription Check á‹­áˆ„á‹³áˆ)
        
        // ------------------------------------------------------------------
        // **áˆˆá‹áŒ¥ 2 áˆ›á‰¥á‰‚á‹«**
        // ------------------------------------------------------------------



        try {
            const SUBSCRIPTION_DURATION_DAYS = 30;
            const lastPaymentDate = new Date(loggedInUserLastPaymentDate);
            const today = new Date();
            const expirationDate = new Date(lastPaymentDate);
            expirationDate.setDate(expirationDate.getDate() + SUBSCRIPTION_DURATION_DAYS);

            if (today > expirationDate) {
                alert("á‹¨á‹°áŠ•á‰ áŠáŠá‰µ áˆá‹áŒˆá‰£ áŒŠá‹œá‹ áŠ áˆá‰‹áˆá¢ áŠ¥á‰£áŠ­á‹ á‹«á‹µáˆ±á¢");
                localStorage.clear();
                window.location.href = 'login.html';
                return;
            }
        } catch (error) {
            console.error("á‹¨áŠ­áá‹« á‰€áŠ• áˆ²áˆ¨áŒ‹áŒˆáŒ¥ áˆµáˆ…á‰°á‰µ á‰°áˆáŒ áˆ¨:", error);
            alert("á‹¨áˆ˜áŒá‰£á‰µ áá‰ƒá‹µá‹ áˆŠáˆ¨áŒ‹áŒˆáŒ¥ áŠ áˆá‰»áˆˆáˆá¢ áŠ¥á‰£áŠ­á‹ áŠ¥áŠ•á‹°áŒˆáŠ“ á‹­áŒá‰¡á¢");
            localStorage.clear();
            window.location.href = 'login.html';
            return;
        }

        const postAuthorInput = document.getElementById('postAuthor');
        if (postAuthorInput) {
            postAuthorInput.value = loggedInUserName;
        }
    });
</script>
    <style>
        /* á‰°áŒ¨áˆ›áˆª á‹¨ CSS áˆµá‰³á‹­áˆá‰½ áˆˆá‰°áˆ»áˆˆ áŠ á‰€áˆ›áˆ˜áŒ¥ - áŠ¨á‹‹áŠ“á‹ data.html áŠ®á’ á‹¨á‰°á‹°áˆ¨áŒ‰ */
        .fuel-type-details {
            margin-top: 10px;
            border-top: 1px solid #eee;
            padding-top: 10px;
        }
        .fuel-type-details p {
            margin: 5px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        .fuel-type-details h3 {
            color: #00bcd4;
            margin-bottom: 10px;
        }
        .fuel-status strong {
            font-size: 1.1em;
            color: #00bcd4;
        }
        .fuel-status.unavailable strong {
            color: #f44336;
        }
        .fuel-station-card {
            background-color: #1e1e1e;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
            margin-bottom: 25px;
            padding: 25px;
            color: #e0e0e0;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            position: relative;
        }

        .fuel-station-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
        }

        .fuel-station-card h2 {
            color: #ffffff;
            font-size: 1.8em;
            margin-top: 0;
            margin-bottom: 10px;
            border-bottom: 2px solid #00bcd4;
            padding-bottom: 10px;
        }

        .station-name-english {
            font-size: 0.9em;
            color: #a0a0a0;
            margin-top: -5px;
            margin-bottom: 15px;
        }

        .last-updated {
            font-size: 0.95em;
            color: #888;
            text-align: right;
            margin-top: 20px;
        }

        .filter-buttons {
            text-align: center;
            margin-bottom: 30px;
        }

        .filter-buttons button {
            background-color: #00bcd4;
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 8px;
            font-size: 1em;
            transition: background-color 0.3s ease;
        }

        .filter-buttons button:hover {
            background-color: #0097a7;
        }

        .message {
            text-align: center;
            margin: 20px auto;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
            display: none;
            max-width: 600px;
            background-color: #ffe0b2;
            color: #e65100;
        }

        .loading-message {
            text-align: center;
            padding: 20px;
            font-size: 1.2em;
            color: #00bcd4;
        }

        .additional-notes {
            margin-top: 15px;
            padding-top: 10px;
            border-top: 1px dashed #444;
            font-style: italic;
            color: #a0a0a0;
            font-size: 0.95em;
        }

        .posted-by {
            font-size: 0.95em;
            color: #888;
            margin-top: 10px;
            text-align: left;
        }
        
        /* á‹¨á‰°áŒ¨áˆ˜áˆ¨á‹ áŠ®á‹µ */
        /* áˆˆáˆ°áˆ­á‰½ á‰¦á‰³á‹ áˆµá‰³á‹­áˆ á‰ áˆá‰£á‹­áˆ */
        .search-filter-section {
            margin-bottom: 20px;
            padding: 0 15px; /* áŠ¨áˆµáŠ­áˆªáŠ‘ áŒ áˆ­á‹ áˆ­á‰€á‰µ áˆˆáˆ˜ááŒ áˆ­ */
        }
        #searchInput {
            width: 100%; /* áˆ™áˆ‰ áˆµáŠ­áˆªáŠ‘áŠ• áŠ¥áŠ•á‹²áˆ¸ááŠ• */
            padding: 10px;
            border-radius: 8px;
            border: 1px solid #555;
            background-color: #2a2a2a;
            color: #e0e0e0;
            font-size: 1em;
            box-sizing: border-box; /* padding áŠ¥áŠ“ border á‰  width á‹áˆµáŒ¥ áŠ¥áŠ•á‹²áŠ«á‰°á‰± */
        }

        /* á‹¨áˆ°áˆ­á‰½ á‰¦á‰³á‹ á‰ áˆ‹á•á‰¶á• áŠ¥áŠ“ á‰ á‰µáˆ‹áˆá‰… áˆµáŠ­áˆªáŠ–á‰½ áˆ‹á‹­ áŠ¥áŠ•á‹²á‰³á‹­ áˆˆáˆ›á‹µáˆ¨áŒ á‹¨á‰°áŒ¨áˆ˜áˆ¨á‹ Media Query */
        @media (min-width: 768px) {
            .search-filter-section {
                text-align: center;
                margin-bottom: 30px;
            }
            #searchInput {
                max-width: 500px; /* á‰ á‰µáˆá‰… áˆµáŠ­áˆªáŠ• áˆ‹á‹­ áŒ á‰£á‰¥ áŠ¥áŠ•á‹²áˆ†áŠ• */
                display: inline-block; /* áˆˆáˆ˜áˆƒáˆ áˆ‹á‹­ áˆ›áˆáŒ£á‰µ */
            }
        }
    </style>
</head>
<body>
    <header class="main-header">
      <div class="menu-container"> <button class="menu-btn" onclick="toggleMenu()">â˜°</button> <nav id="dropdown-menu" class="dropdown-content"> <a href="data.html">á‹‹áŠ“á‹ áŒˆáŒ½</a>  <a href="stations_fuel_data.html">á‹¨á‰°áˆ¨áŒ‹áŒˆáŒ  á‹¨áˆ›á‹°á‹«á‹á‰½ áˆ˜áˆ¨áŒƒ</a> 
      <a href="news.html">á‹œáŠ“á‹á‰½</a> <a href="sales.html">áˆ˜áˆ¸áŒ«</a> <a href="maintenance.html">áŠ¥áŠ•áŠ­á‰¥áŠ«á‰¤</a> <a href="data_entry.html">áˆ˜áˆ¨áŒƒ áˆ›áˆµáŒˆá‰¢á‹«</a> <a href="community_data.html">áˆá‹á‹áŒ¥</a> <a href="fuel_stations.html">á‹¨á‰°áŒ á‰ƒáˆšá‹á‰½ á‹¨áˆ›á‹°á‹« áˆ˜áˆ¨áŒƒ</a> </nav> </div>
      <div class="ad-marquee-container">
        <p class="ad-marquee-text">
            âœ¨  á‹¨áŠáƒ áˆá‹áŒˆá‰£ áŒ€áˆáˆ¨áŠ“áˆ! &nbsp; &nbsp; &nbsp; &nbsp;
            ğŸ’¡ á‹­áˆ…áŠ•áŠ• áŠ¥á‹µáˆ áˆˆáˆŒáˆá‰½ áˆ¹áŒáˆ­ áŒ“á‹°áŠá‰½á‹ áŠ áˆ³á‹á‰€á‹‹áˆ? &nbsp; &nbsp; &nbsp; &nbsp;
            ğŸ’° á‹­áˆ…áŠ•áŠ• áˆ°áŠ á‹¨áˆ˜áŒˆáŠ“áŠ› áˆ˜á‹µáˆ¨áŠ­ áŠ¥áŠ“ á‹¨áˆ˜áˆ¨áŒƒ áˆáŠ•áŒ­ áˆˆáˆŒáˆá‰½ áŒ“á‹°áŠá‰¾áˆ á‹«áˆµá‰°á‹‹á‹á‰! &nbsp; &nbsp; &nbsp; &nbsp;
            ğŸ› ï¸ á‹¨áŠ áŒˆáˆáŒáˆá‰³á‰½áŠ• á‰°áŒ á‰ƒáˆš áˆµáˆˆáˆ†áŠ‘ áŠ¥áŠ“áˆ˜áˆ°áŒáŠ“áˆˆáŠ•! &nbsp; &nbsp; &nbsp; &nbsp;
        </p>
      </div>
        <h1><span class="accent-text">á‹¨áˆ›á‹°á‹«á‹á‰½ á‹¨áŠá‹³áŒ…</span> áˆ˜áˆ¨áŒƒ</h1>
        <p>á‹ˆá‰…á‰³á‹Š á‹¨áŠá‹³áŒ… á‹‹áŒ‹áŠ“ á‹ˆáˆ¨á‹ áˆ˜áˆ¨áŒƒá‹á‰½</p>
        
    </header>

    <main class="container">
      
      <section class="search-filter-section">
            <input type="text" id="searchInput" placeholder="á‹¨áˆ›á‹°á‹« áˆµáˆá£ 'áŠ áˆˆ' á‹ˆá‹­áˆ 'á‹¨áˆˆáˆ' áˆáˆáŒ...">
        </section>

        <div id="loadingMessage" class="loading-message">áˆ˜áˆ¨áŒƒá‹á‰½ áŠ¥á‹¨á‰°áŒ«áŠ‘ áŠá‹...</div>
        <div id="errorMessageDisplay" class="message error" style="display: none;"></div>
        <div id="fuelStationList">
            </div>
    </main>

    <footer class="main-footer">
        <p>&copy; 2025 á‹¨á‹µáˆ«á‹­á‰¨áˆ­ áŠá‹³áŒ… áˆ˜áˆ¨áŒƒ. áˆáˆ‰áˆ áˆ˜á‰¥á‰¶á‰½ á‹¨á‰°áŒ á‰ á‰ áŠ“á‰¸á‹á¢</p>
        <p>áˆˆá‹ˆá‰…á‰³á‹Š áˆ˜áˆ¨áŒƒ á‹µáˆ¨-áŒˆáŒ»á‰½áŠ•áŠ• á‹­áŒá‰¥áŠ™á¢</p>
    </footer>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
        import { getFirestore, collection, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyA-ywRuhanxoEJgR83jwp_-nOkPY4jLOH4",
            authDomain: "elanyas-info.firebaseapp.com",
            projectId: "elanyas-info",
            storageBucket: "elanyas-info.firebasestorage.app",
            messagingSenderId: "769306910360",
            appId: "1:769306910360:web:70988eed5b1da8ffa0faed",
            measurementId: "G-2XX2B3RSGP"
        };

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        const fuelStationList = document.getElementById('fuelStationList');
        const loadingMessage = document.getElementById('loadingMessage');
        const errorMessageDisplay = document.getElementById('errorMessageDisplay');
        const searchInput = document.getElementById('searchInput');

        let allFuelStations = [];

        document.addEventListener('DOMContentLoaded', fetchFuelStationData);
        
// ******************************************************************
// ğŸš¨ áŠ á‹²áˆµ á‹¨á‰°áŒ¨áˆ˜áˆ¨ áŠ®á‹µá¡ Time Ago á‰°áŒá‰£áˆ­ ğŸš¨
// ******************************************************************

// á‹­áˆ… á‰°áŒá‰£áˆ­ á‰ Date object áŠ¨á‰°áˆ°áŒ á‹ áŒŠá‹œ áŒ€áˆáˆ® á‹«áˆˆáˆá‹áŠ• áŒŠá‹œ á‹«áˆ°áˆ‹áˆ
function timeAgo(date) {
    const seconds = Math.floor((new Date() - date) / 1000);
    
    // á‰ áˆ°áŠ¨áŠ•á‹µ á‹áˆµáŒ¥ á‹«áˆ‰ á‹¨áŒŠá‹œ áŠ­áá‰°á‰¶á‰½
    let interval = seconds / 31536000; // áŠ áˆ˜á‰µ (Year)
    if (interval > 1) {
        const value = Math.floor(interval);
        return value + " " + (value === 1 ? "á‹“áˆ˜á‰µ" : "á‹“áˆ˜á‰³á‰µ") + " á‰ áŠá‰µ";
    }
    interval = seconds / 2592000; // á‹ˆáˆ­ (Month)
    if (interval > 1) {
        const value = Math.floor(interval);
        return value + " " + (value === 1 ? "á‹ˆáˆ­" : "á‹ˆáˆ«á‰µ") + " á‰ áŠá‰µ";
    }
    interval = seconds / 86400; // á‰€áŠ• (Day)
    if (interval > 1) {
        const value = Math.floor(interval);
        return value + " " + (value === 1 ? "á‰€áŠ•" : "á‰€áŠ“á‰µ") + " á‰ áŠá‰µ";
    }
    interval = seconds / 3600; // áˆ°á‹“á‰µ (Hour)
    if (interval > 1) {
        const value = Math.floor(interval);
        return value + " " + (value === 1 ? "áˆ°á‹“á‰µ" : "áˆ°á‹“á‰³á‰µ") + " á‰ áŠá‰µ";
    }
    interval = seconds / 60; // á‹°á‰‚á‰ƒ (Minute)
    if (interval > 1) {
        const value = Math.floor(interval);
        return value + " " + (value === 1 ? "á‹°á‰‚á‰ƒ" : "á‹°á‰‚á‰ƒá‹á‰½") + " á‰ áŠá‰µ";
    }
    
    // áŠ¨ 60 áˆ°áŠ¨áŠ•á‹µ á‰ á‰³á‰½ áŠ¨áˆ†áŠ
    return "áŠ¨áŒ¥á‰‚á‰µ áˆ°áŠ¨áŠ•á‹¶á‰½ á‰ áŠá‰µ";
}

// ******************************************************************
// ğŸš¨ áŠ á‹²áˆµ á‹¨á‰°áŒ¨áˆ˜áˆ¨ áŠ®á‹µ áˆ›á‰¥á‰‚á‹« ğŸš¨
// ******************************************************************

        async function fetchFuelStationData() {
            loadingMessage.style.display = 'block';
            errorMessageDisplay.style.display = 'none';
            fuelStationList.innerHTML = '';

            try {
                const q = query(collection(db, "fueldata"), orderBy("lastUpdated", "desc"));
                const querySnapshot = await getDocs(q);

                if (querySnapshot.empty) {
                    fuelStationList.innerHTML = '<p style="text-align: center; color: #a0a0a0;">áˆáŠ•áˆ á‹¨áŠá‹³áŒ… áˆ›á‹°á‹« áˆ˜áˆ¨áŒƒ á‹¨áˆˆáˆá¢ á‰ á‰…áˆ­á‰¡ áˆ›á‹°á‹«á‹á‰½ áˆ˜áˆ¨áŒƒá‹á‰»á‰¸á‹áŠ• á‰ á‹š á”áŒ… áˆˆá‹­ áˆ›áˆ³á‹ˆá‰… á‹­áŒ€áˆáˆ«áˆ‰á¢</p>';
                    loadingMessage.style.display = 'none';
                    return;
                }
                
                allFuelStations = [];
                querySnapshot.forEach((doc) => {
                    allFuelStations.push(doc.data());
                });

                displayFuelStations(allFuelStations);

            } catch (error) {
                console.error("áˆ˜áˆ¨áŒƒá‹á‰½áŠ• áŠ¨Firebase áˆ²á‹«áˆ˜áŒ¡ áˆµáˆ…á‰°á‰µ á‰°áˆáŒ áˆ¨:", error);
                loadingMessage.style.display = 'none';
                errorMessageDisplay.textContent = "áˆ˜áˆ¨áŒƒá‹á‰½áŠ• áˆ›áˆáŒ£á‰µ áŠ áˆá‰°á‰»áˆˆáˆá¢ áŠ¥á‰£áŠ­á‹ áŠ¥áŠ•á‹°áŒˆáŠ“ á‹­áˆáŠ­áˆ©á¢";
                errorMessageDisplay.style.display = 'block';
            } finally {
                loadingMessage.style.display = 'none';
            }
        }

        function displayFuelStations(stationsToDisplay) {
            fuelStationList.innerHTML = '';
            if (stationsToDisplay.length === 0) {
                fuelStationList.innerHTML = '<p style="text-align: center; color: #a0a0a0;">á‹¨á‰°áˆáˆˆáŒˆá‹ áˆ˜áˆ¨áŒƒ á‹¨áˆˆáˆá¢</p>';
                return;
            }

            stationsToDisplay.forEach((data) => {
// ------------------------------------
// ğŸš¨ á‹¨áˆ˜á‰°áŠªá‹« áŠ®á‹µ ğŸš¨
// ------------------------------------
                let lastUpdated = 'áŠ áˆá‰³á‹ˆá‰€áˆ';
                if (data.lastUpdated && data.lastUpdated.toDate) {
                    // áŠ á‹²áˆµ á‹¨áˆáŒ áˆ­áŠá‹áŠ• timeAgo á‰°áŒá‰£áˆ­ á‰ áˆ˜áŒ á‰€áˆ
                    const dateObject = data.lastUpdated.toDate();
                    lastUpdated = timeAgo(dateObject); 
                }
// ------------------------------------

                const cardHtml = `
                    <div class="fuel-station-card">
                        <h2 class="station-name">${data.stationName || 'á‹«áˆá‰³á‹ˆá‰€ áˆ›á‹°á‹«'}</h2>
                        ${data.stationNameEnglish ? `<p class="station-name-english">${data.stationNameEnglish}</p>` : ''}
                        <div class="fuel-type-details petrol">
                            <h3>á‰¤áŠ•á‹šáŠ•:</h3>
                            <p class="fuel-status">áˆáŠ”á‰³: <strong>${data.petrolStatus || 'áŠ áˆá‰³á‹ˆá‰€áˆ'}</strong></p>
                            <p>á‹‹áŒ‹: <strong>${data.petrolPrice ? `${data.petrolPrice.toFixed(2)} á‰¥áˆ­/áˆŠá‰µáˆ­` : 'áŠ áˆá‰³á‹ˆá‰€áˆ'}</strong></p>
                            <p class="fuel-status">á‹¨á‹ˆáˆ¨á‹ áˆáŠ”á‰³: <strong>${data.petrolQueue || 'áŠ áˆá‰³á‹ˆá‰€áˆ'}</strong></p>
                        </div>
                        <div class="fuel-type-details diesel">
                            <h3>áŠ“ááŒ£:</h3>
                            <p class="fuel-status">áˆáŠ”á‰³: <strong>${data.dieselStatus || 'áŠ áˆá‰³á‹ˆá‰€áˆ'}</strong></p>
                            <p>á‹‹áŒ‹: <strong>${data.dieselPrice ? `${data.dieselPrice.toFixed(2)} á‰¥áˆ­/áˆŠá‰µáˆ­` : 'áŠ áˆá‰³á‹ˆá‰€áˆ'}</strong></p>
                            <p class="fuel-status">á‹¨á‹ˆáˆ¨á‹ áˆáŠ”á‰³: <strong>${data.dieselQueue || 'áŠ áˆá‰³á‹ˆá‰€áˆ'}</strong></p>
                        </div>
                        ${data.additionalNotes ? `<p class="additional-notes">áˆ›á‰¥áˆ«áˆªá‹«: ${data.additionalNotes}</p>` : ''}
                        <p class="posted-by">á‹¨á‰°áˆˆáŒ áˆá‹ á‰ : <strong>${data.postedBy || 'á‹«áˆá‰³á‹ˆá‰€'}</strong></p>
                        <p class="last-updated">á‹¨áˆ˜áŒ¨áˆ¨áˆ» á‹áˆ˜áŠ“: ${lastUpdated}</p>
                    </div>
                `;
                fuelStationList.innerHTML += cardHtml;
            });
        }


        const logoutButton = document.getElementById('logoutButton');
        if (logoutButton) {
            logoutButton.addEventListener('click', () => {
                localStorage.removeItem('stationPassword');
                localStorage.removeItem('stationNameAmh');
                localStorage.removeItem('stationNameEng');
                localStorage.removeItem('stationDocId');
                alert("á‰ á‰°áˆ³áŠ« áˆáŠ”á‰³ á‹ˆáŒ¥á‰°á‹‹áˆ!");
                window.location.href = "login.html";
            });
        }

        searchInput.addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            const filteredStations = allFuelStations.filter(station => {
                const stationName = (station.stationName || '').toLowerCase();
                const petrolStatus = (station.petrolStatus || '').toLowerCase();
                const dieselStatus = (station.dieselStatus || '').toLowerCase();

                return stationName.includes(searchTerm) ||
                       petrolStatus.includes(searchTerm) ||
                       dieselStatus.includes(searchTerm);
            });
            displayFuelStations(filteredStations);
        });

    </script>
<script src="main.js"></script>
</body>
</html>